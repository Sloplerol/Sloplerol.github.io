<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Linux | Freedom Coding</title><meta name="author" content="Satrol_"><meta name="copyright" content="Satrol_"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="系统化学习Linux系统">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux">
<meta property="og:url" content="https://sloplerol.github.io/2023/05/07/Linux-Journey/index.html">
<meta property="og:site_name" content="Freedom Coding">
<meta property="og:description" content="系统化学习Linux系统">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://w.wallhaven.cc/full/qz/wallhaven-qz3wel.png">
<meta property="article:published_time" content="2023-05-07T06:55:03.000Z">
<meta property="article:modified_time" content="2023-05-16T04:57:57.531Z">
<meta property="article:author" content="Satrol_">
<meta property="article:tag" content="Linux运维">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://w.wallhaven.cc/full/qz/wallhaven-qz3wel.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://sloplerol.github.io/2023/05/07/Linux-Journey/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux',
  isPost: true,
  isHome: false,
  isHighlightShrink: undefined,
  isToc: true,
  postUpdate: '2023-05-16 12:57:57'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://avatars.githubusercontent.com/u/109008086?v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 学习</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 生活</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://w.wallhaven.cc/full/qz/wallhaven-qz3wel.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Freedom Coding"><span class="site-name">Freedom Coding</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 学习</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 生活</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Linux</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-05-07T06:55:03.000Z" title="发表于 2023-05-07 14:55:03">2023-05-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-05-16T04:57:57.531Z" title="更新于 2023-05-16 12:57:57">2023-05-16</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Linux"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><ul>
<li>⚙️<a href="#1">操作系统发展史</a><ul>
<li><a href="#unix">Unix</a></li>
<li><a href="#minix">Minix</a></li>
<li><a href="#linux">早期Linux</a></li>
</ul>
</li>
<li>⚡️<a href="#2">Linux介绍</a><ul>
<li><a href="#kernel">Kernel</a></li>
<li><a href="#releases">Releases</a></li>
<li><a href="#unixcategory">Unix目录</a></li>
<li><a href="#linuxcategory">Linux目录</a></li>
<li><a href="#Vim">Vim和VI文本编译器</a><ul>
<li><a href="#whatvim">Vim和VI是什么</a></li>
<li><a href="#vimmodel">VIM的模式</a></li>
</ul>
</li>
<li><a href="#connect">主机与虚拟机联系</a><ul>
<li><a href="#test">测试是否主机和虚拟机之间是否能ping通</a></li>
<li><a href="#network">VMware提供三种网络连接方式</a></li>
<li><a href="#alterip">指定修改静态ip</a></li>
<li><a href="#breakdown">修改IP出现的问题</a></li>
<li><a href="#hostname">修改主机名</a></li>
</ul>
</li>
<li><a href="#service">进程与服务</a></li>
<li><a href="eposide">Linux运行级别</a></li>
<li><a href="#reboot">关机重启操作</a></li>
</ul>
</li>
<li>💥<a href="#3">Linux命令的使用</a><ul>
<li><a href="#introduction">基本介绍</a></li>
<li><a href="#expansion">拓展</a></li>
<li><a href="#help">帮助型命令</a></li>
<li><a href="#filecategory">文件目录类</a></li>
<li><a href="#date">时间日期类</a></li>
<li><a href="#usermanage">用户管理类</a></li>
<li><a href="#search">搜索查找类</a></li>
<li><a href="#gzip">解压缩类</a></li>
<li><a href="#diskdetect">磁盘查看和分区类</a></li>
<li><a href="#process">进程管理类</a></li>
<li><a href="#software">软件包管理</a></li>
<li><a href="#clone">克隆虚拟机</a></li>
</ul>
</li>
<li>🔥<a href="#4">Shell的拓展</a><ul>
<li><a href="#shell">Shell巩固(命令解释器)</a></li>
<li><a href="#scripts">Shell脚本</a></li>
<li><a href="#console">读取控制台输入</a></li>
<li><a href="#function">函数</a></li>
<li><a href="#Regular-expression">正则表达式</a></li>
<li><a href="#texthandle">文本处理工具</a></li>
<li><a href="#review">巩固</a></li>
</ul>
</li>
</ul>
<p id="1"></p>

<h3 id="操作系统发展史"><a href="#操作系统发展史" class="headerlink" title="操作系统发展史"></a>操作系统发展史</h3><p id="unix"></p> 

<p><strong>Unix</strong></p>
<ul>
<li><p>1965年左后由贝尔实验室、麻省理工学院 以及 通用电气共同发起了Multics项目，<strong>想让大型主机支持300台终端</strong></p>
</li>
<li><p>1969年前后这个项目进度缓慢，资金短缺，贝尔实验室退出了研究</p>
</li>
<li><p>1969年从这个项目中退出的Ken Thompson当时在实验室无聊时，为了让一台空闲的电脑上能够运行“星际旅行”游行，在8月份左右趁着其妻子探亲的时间，用了1个月的时间编写出了 Unix操作系统的原型</p>
</li>
<li><p>1970年，美国贝尔实验室的 Ken Thompson，以 BCPL语言 为基础，设计出很简单且很接近硬件的 B语言（取BCPL的首字母），并且他用B语言写了第一个UNIX操作系统。<br>  因为B语言的跨平台性较差，为了能够在其他的电脑上也能够运行这个非常棒的Unix操作系统，Dennis Ritchie和Ken Thompson 从B语言的基础上准备研究一个更好的语言</p>
</li>
<li><p>1972年，美国贝尔实验室的 Dennis Ritchie在B语言的基础上最终设计出了一种新的语言，他取了BCPL的第二个字母作为这种语言的名字，这就是C语言</p>
</li>
<li><p>1973年初，C语言的主体完成。Thompson和Ritchie迫不及待地开始用它完全重写了现在大名鼎鼎的Unix操作系统</p>
</li>
</ul>
<p id="mixin"></p>

<p><strong>Minix</strong></p>
<blockquote>
<p>由于Unix的私有化，Andrew S. Tanenbaum(塔能鲍姆)教授自行开发与UNIX兼容的操作系统，为了避免和Unix版权上的争议，起名为mini-unix，即Mixin</p>
</blockquote>
<p id="linux"></p>

<p><strong>Linux</strong></p>
<blockquote>
<p>因为Minix只是教学使用，因此功能并不强，因此Torvalds利用GNU的bash当做开发环境，gcc当做编译工具，编写了Linux内核-v0.02，但是一开始Linux并不能兼容Unix，即Unix上跑的应用程序不能在Linux上跑，即应用程序与内核之间的接口不一致因为Unix是遵循POSIX规范的，因此Torvalds修改了Linux，并遵循POSIX（Portable Operating System Interface，他规范了应用程序与内核的接口规范）； 一开始Linux只适用于386，后来经过全世界的网友的帮助，最终能够兼容多种硬件</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Linux介绍"><a href="#Linux介绍" class="headerlink" title="Linux介绍"></a>Linux介绍</h3><p id="kernel"></p> 

<ul>
<li><p>Kernel(内核)</p>
<p>  内核分为两个版本</p>
<ul>
<li>稳定版：长期稳定版</li>
<li>开发版：变更很快</li>
</ul>
  <p id="releases"></p> 
</li>
<li><p>发行版</p>
<p>  市面上比较常见的有</p>
<ul>
<li>Ubantu</li>
<li>Centos</li>
<li>Debain</li>
<li>SuSe</li>
<li>RedHat</li>
</ul>
  <p id="unixcategory"></p> 
</li>
<li><p>类Unix系统目录结构</p>
<p>  <img src="/Users/satrol_/Desktop/Category_struct.png" alt="Category_struct"></p>
  <p id="linuxcategory"></p> 
</li>
<li><p>Linux目录结构</p>
<p>  <img src="/Users/satrol_/Desktop/Linux_struct.jpeg"></p>
<ul>
<li>&#x2F; : Linux下只有一个根目录，指的就是&#x2F;home</li>
<li>&#x2F;bin: 可执行二进制文件的目录，如常用的命令ls、tar、mv、cat等 实际存储于usr&#x2F;bin</li>
<li>&#x2F;boot: 启动时用到的一些文件 如Linux的内核文件：&#x2F;boot&#x2F;vmlinuz，系统引导管理器：&#x2F;boot&#x2F;grub。</li>
<li>&#x2F;dev: 存放linux系统下的设备文件 常用的是挂载光驱 mount &#x2F;dev&#x2F;cdrom &#x2F;mnt。</li>
<li>&#x2F;etc: 系统配置文件存放的目录</li>
<li>&#x2F;home: 系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下</li>
<li>&#x2F;lib: 系统使用的函数库的目录，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助。</li>
<li>&#x2F;lost: 系统异常产生错误时，会将一些遗失的片段放置于此目录下。</li>
<li>&#x2F;mnt &#x2F;media: 光盘默认挂载点，通常光盘挂载于 &#x2F;mnt&#x2F;cdrom 下，也不一定，可以选择任意位置进行挂载。</li>
<li>&#x2F;opt: 给主机额外安装软件所摆放的目录。</li>
<li>&#x2F;proc: 此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间</li>
<li>&#x2F;root: 系统管理员root的家目录</li>
<li>&#x2F;sbin: 放置系统管理员使用的可执行命令，如fdisk、shutdown、mount 等。与 &#x2F;bin 不同的是，这几个目录是给系统管理员 root使用的命令，一般用户只能”查看”而不能设置和使用。</li>
<li>&#x2F;tmp: 一般用户或正在执行的程序临时存放文件的目录</li>
<li>&#x2F;srv: 服务启动之后需要访问的数据目录</li>
<li>&#x2F;usr: 应用程序存放目录</li>
<li>&#x2F;var: 放置系统执行过程中经常变化的文件，如随时更改的日志文件 &#x2F;var&#x2F;log，&#x2F;var&#x2F;log&#x2F;message：所有的登录文件存放目录，&#x2F;var&#x2F;spool&#x2F;mail：邮件存放的目录，&#x2F;var&#x2F;run:程序或服务启动后，其PID存放在该目录下</li>
<li>&#x2F;sys：存放系统硬件相关信息</li>
</ul>
  <p id="Vim"></p> 
</li>
<li><p>文本编译器VIM</p>
  <p id="whatvim"></p> 

<ul>
<li><p>Vim和VI是什么</p>
<p>  VI 是Unix和类Unix操作系统通用的文本编译器</p>
<p>  **VIM ** 是由VI发展过来更加强大的文本编译器</p>
<p>  两者完全兼容</p>
  <p id="vimmodel"></p> 
</li>
<li><p>VIM的模式</p>
<ul>
<li><p>一般模式(可执行操作：撤销，复制，删除)</p>
<ul>
<li><p>撤销: u</p>
</li>
<li><p>复制: yy</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">复制光标及当前行以后的内容</span><br><span class="line">y + $</span><br><span class="line">复制光标及当前行之前的内容</span><br><span class="line">y + ^</span><br><span class="line">复制某一个单词</span><br><span class="line">y + w  按下w可以跳转到下一个单词</span><br></pre></td></tr></table></figure>

</li>
<li><p>粘贴: p </p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">粘贴多行</span><br><span class="line">Linux Learning</span><br><span class="line">ex: 加入我想粘贴Linux Learning粘贴这一行三次</span><br><span class="line">进入一般模式按下数字再按下p即可完成这部操作</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除: dd</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">删除多行</span><br><span class="line">数字+dd</span><br><span class="line">删除一个单词</span><br><span class="line">d + w</span><br><span class="line">	当光标在当前词的最前面删除的是整个单词</span><br><span class="line">	当光标在单词中会删除拆解出来的单词及后面的空格</span><br><span class="line">删除光标前的内容</span><br><span class="line">d + $</span><br><span class="line">删除光标后的内容</span><br><span class="line">d + ^</span><br><span class="line">剪切光标处在的位置</span><br><span class="line">x</span><br><span class="line">一般模式下的退格键</span><br><span class="line">大写X</span><br></pre></td></tr></table></figure>
</li>
<li><p>切换文字大小写(~)</p>
</li>
<li><p>替换 </p>
<blockquote>
<p>shift + r进入替换模式</p>
</blockquote>
</li>
<li><p>快速跳转</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">跳转行头</span><br><span class="line">shift + 6</span><br><span class="line">跳转行尾</span><br><span class="line">shift + 4</span><br><span class="line">跳转至下一个单词</span><br><span class="line">w</span><br><span class="line">跳转至上一个单词</span><br><span class="line">b</span><br><span class="line">跳转至文档开始的地方</span><br><span class="line">gg 或者 H</span><br><span class="line">跳转到文档行尾</span><br><span class="line">G 或者 L</span><br><span class="line">跳转文档开始和结束可以结合数字</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>编辑模式</p>
<ul>
<li>i 在光标前进行编辑</li>
<li>a 在光标后进行编辑</li>
<li>o 在光标下一行进行编辑</li>
<li>I 跳转到当前行头并进行编辑</li>
<li>A跳转到当前行尾进行编辑</li>
<li>O跳转到当前行的上一行进行编辑</li>
</ul>
</li>
<li><p>指令模式</p>
<ul>
<li><p>进入方式:  <strong>:</strong> or <strong>&#x2F;</strong></p>
</li>
<li><p>:w 保存</p>
</li>
<li><p>:q 退出</p>
</li>
<li><p>:wq 保存并退出</p>
</li>
<li><p>:q! 不保存强制退出</p>
</li>
<li><p>:set nu 显示行数 </p>
</li>
<li><p>:set nonu 关闭行数</p>
</li>
<li><p>&#x2F; + 关键字 &#x3D; 查找 按n查找下一个  N查找上一个</p>
</li>
<li><p>取消高亮  :noh</p>
</li>
<li><p>替换关键词</p>
<ul>
<li><p>替换当前行第一个关键词</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">:s/想替前的词/替换后的词</span><br></pre></td></tr></table></figure>
</li>
<li><p>替换当前行全部关键词</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">:s/想替前的词/替换后的词/g</span><br></pre></td></tr></table></figure>
</li>
<li><p>替换每一行第一个关键字</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">:%s/想替前的词/替换后的词</span><br></pre></td></tr></table></figure>
</li>
<li><p>替换整篇文档全部的关键字</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">:%s/想替前的词/替换后的词/g</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
  <p id="connect"></p> 
</li>
<li><p>主机与虚拟机的联系</p>
  <p id="test"></p> 

<ul>
<li><p>测试是否主机和虚拟机之间是否能ping通</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">window</span><br><span class="line">ipconfig查询本机ip</span><br><span class="line">Linux虚拟机</span><br><span class="line">对应系统执行相应ip</span><br><span class="line">inet : 网络地址</span><br><span class="line">broadcast : 专门用于同时向网络中所有工作站进行发送的一个地址</span><br></pre></td></tr></table></figure>

  <p id="network"></p> 
</li>
<li><p>VMware提供三种网络连接方式</p>
<ul>
<li><p>桥接模式</p>
<p>  原理: 路由连接外网，通过DHCP服务器，动态分配ip地址，这些设备形成的网络叫做局域网</p>
<p>  VM虚拟机连接外网方式：路由器通过PC虚拟出来的网桥连接到交换机，再通过交换机来分配多台vm设备</p>
<p>  缺点: 没有隐私性，当前网络段下的pc设备都能访问其隐私，占用ip</p>
</li>
<li><p>NAT模式(vmnet8)</p>
<p>  原理: PC连接到虚拟机虚拟出来的路由,虚拟路由动态分配ip给每一台vm设备形成一个虚拟局域网(这就是为什么虚拟机ip可以和本机ip不在一个网段上的原因，位于两个不同的局域网)</p>
<p>  vmnet8: 但是如果想要PC连接到vm设备就好比外网连接PC，只能获取到简单的路由ip而不能准确定位到你本机ip，于是vmware虚拟出来一张虚拟网卡供PC使用来确定是哪一台vm设备，也就是所谓的vmnet8</p>
</li>
<li><p>仅主机模式(vmnet1)</p>
<p>  原理: PC通过虚拟网卡连接交换机，并且与其余vm构建局域网，由于是交换机与pc打交道所以vm设备无法访问到外网   </p>
</li>
<li><p>总结</p>
<blockquote>
<p>虚拟路由通过NAT转址为本机ip，本机访问外网同理通过路由转址为外网ip进行访问</p>
</blockquote>
  <p id="alterip"></p></li>
</ul>
</li>
<li><p>指定修改静态ip</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">进入局域网段里ens160(mac) or ens33(window)</span><br><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-ens160</span><br><span class="line"></span><br><span class="line">修改内容:</span><br><span class="line">Bootproto: static</span><br><span class="line">IPADDR: 相同网段</span><br><span class="line">GATEWAY: 于虚拟及NAT设置网关相同</span><br><span class="line">DNS1: 与GATEWAY一致</span><br><span class="line">保存</span><br><span class="line">:wq</span><br><span class="line">重启</span><br><span class="line">service network restart</span><br></pre></td></tr></table></figure>

  <p id="breakdown"></p> 
</li>
<li><p>修改IP出现的问题</p>
<ul>
<li><p>主机能ping通虚拟机而虚拟机ping不通主机</p>
<blockquote>
<p>可能是主机防火墙干扰</p>
</blockquote>
</li>
<li><p>虚拟机可以ping通主机但是连不上外网</p>
<blockquote>
<p> DNS设置出错</p>
<p> 检查是否子网ip和NAT网关存在一个网段上</p>
</blockquote>
</li>
<li><p>如果以上方法都不行可以选择关闭NetworkManager</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl stop NetworkManager //停止服务</span><br><span class="line">systemctl disable NetworkManager //禁止服务</span><br></pre></td></tr></table></figure>

  <p id="hostname"></p></li>
</ul>
</li>
<li><p>修改主机名</p>
<ul>
<li><p>VIM到当前目录下</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/hostname</span><br><span class="line">重启服务</span><br><span class="line">hostnamectl set-hostname 需要修改的名</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置 主机-ip</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">进入hosts</span><br><span class="line">vim /etc/hosts</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改本机hosts文件夹</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">172.20.10.12 sparking2</span><br><span class="line">172.20.10.13 sparking3</span><br><span class="line">172.20.10.14 sparking4</span><br><span class="line">172.20.10.15 sparking5</span><br><span class="line">172.20.10.16 sparking6</span><br><span class="line">目的：实现对服务器的远程操作和连接</span><br></pre></td></tr></table></figure>
</li>
<li><p>ssh远程登陆</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">远程连接</span><br><span class="line">window Xshell mac iTem2</span><br><span class="line">ssh root@host名/ip地址</span><br><span class="line">远程下载或者上传</span><br><span class="line">window xftp mac FileZilla </span><br></pre></td></tr></table></figure></li>
</ul>
  <p id="service"></p> 
</li>
<li><p>service 服务管理</p>
<p>  服务：常驻内存中的进程</p>
<p>  进程：正在执行的程序和命令</p>
<blockquote>
<p>以d为结尾的目录为守护进程</p>
</blockquote>
<p>  Centos6 </p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">service + start/stop/status/restart</span><br><span class="line">重启服务</span><br><span class="line">service network restart</span><br></pre></td></tr></table></figure>

<p>  Centos7</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl + start/stop/status/restart</span><br><span class="line">服务管理文件目录</span><br><span class="line">ls /usr/lib/systemd/system</span><br><span class="line">重启服务</span><br><span class="line">systemctl restart network</span><br><span class="line">建议在network和NetworkManager里选择一个进行保留</span><br></pre></td></tr></table></figure>

  <p id="eposide"></p> 
</li>
<li><p>Linux运行级别</p>
<blockquote>
<p>查看默认级别 vim &#x2F;etc&#x2F;inittab</p>
</blockquote>
<p>  <strong>运行步骤</strong>: 开机-&gt;BIOS-&gt;&#x2F;boot-&gt;&#x2F;init进程-&gt;运行级别-&gt;运行级别对应的服务 </p>
<p>  级别0: 系统停机状态</p>
<p>  级别1: 只允许root登陆 不支持远程登录</p>
<p>  级别2:  多用户状态 无NFS 但没网</p>
<p>  级别3: 完全多用户状态 有NFS 相当于命令行模式</p>
<p>  级别4: 保留未使用</p>
<p>  级别5: GUI窗口化模式</p>
<p>  级别6: 重启</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Centos7将级别三服务简化为multi-user.target</span><br><span class="line">将级别5简化为graphical.target</span><br><span class="line">查看当前级别</span><br><span class="line">systemctl get-default</span><br><span class="line">如果有graphical.target和multi-user.target两个级别</span><br><span class="line">可以通过init + 级别进行切换</span><br></pre></td></tr></table></figure>

<p>  Centos6启动服务前先启动init文件 单线程启动</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">启动Centos6 SysV服务</span><br><span class="line">chkconfig --list</span><br><span class="line">关闭开启network开机自启动服务</span><br><span class="line">chkconfig network off/on</span><br><span class="line">针对单个级别进行关闭</span><br><span class="line">chkconfig --level 3 network off</span><br><span class="line">防火墙</span><br><span class="line">iptables</span><br></pre></td></tr></table></figure>

<p>  Centos7启动服务前先启动systemd文件 并行启动</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">调整开机自启动状态</span><br><span class="line">setup 进入服务面板</span><br><span class="line">开启/关闭开机自启动服务</span><br><span class="line">systemctl disable/enable 某一个服务</span><br><span class="line">列举所有单元</span><br><span class="line">systemctl list-unit-files</span><br><span class="line">enable代表开机自启动 disable反之 static代表无法确定</span><br><span class="line">查看防火墙状态</span><br><span class="line">systemctl status firewalld</span><br><span class="line">关闭防火墙</span><br><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure>

  <p id="reboot"></p> 
</li>
<li><p>关机重启操作</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">一分钟后关机(default)</span><br><span class="line">shutdown</span><br><span class="line">shutdown + number 几分钟后关机</span><br><span class="line">shutdown + 具体时间 某一时间关机</span><br><span class="line">停止关机操作</span><br><span class="line">shutdown -c</span><br><span class="line">立刻关机</span><br><span class="line">shutdown now</span><br><span class="line">将缓冲区的数据立刻读取到硬盘中</span><br><span class="line">sync</span><br><span class="line">关闭系统但不断电</span><br><span class="line">halt</span><br><span class="line">关闭系统且断电</span><br><span class="line">poweroff</span><br><span class="line">重启</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Linux命令基本使用"><a href="#Linux命令基本使用" class="headerlink" title="Linux命令基本使用"></a>Linux命令基本使用</h3><p id="introduction"></p> 

<ul>
<li><p>基本介绍</p>
<p>  Shell 是一个应用程序，它连接了用户和Linux 内核，让用户能够更加高效、安全、低成本地使用Linux 内核</p>
  <p id="expansion"></p> 
</li>
<li><p>拓展</p>
<p>  命令行的打开都是基于&#x2F;bin&#x2F;sh</p>
<p>  Unix 最原始的shell是Bourne shell 不过用户交互性较差</p>
<p>  Linux基于Unix 开发出Bourne Again shell 即bash</p>
<p>  Debian系列搭载的shell是dash</p>
  <p id="help"></p> 
</li>
<li><p>帮助型命令</p>
<ul>
<li><p>man查看命令手册</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">man + 你想要查看的命令</span><br><span class="line">内嵌命令：内嵌在bash里面 ex:cd/exit/history</span><br><span class="line">type查看命令类型</span><br><span class="line">如果想要查看内嵌命令 里面可能会有不同版本的解释 </span><br><span class="line">man -f + 内嵌命令</span><br><span class="line">man + 版本 + 内嵌命令 查看当前版本的解释</span><br><span class="line">help查看内嵌命令</span><br><span class="line">help + 内嵌命令</span><br><span class="line">help查看外部命令</span><br><span class="line">外部命令 --help</span><br></pre></td></tr></table></figure>
</li>
<li><p>常用快捷键</p>
<p>  Ctrl + c 停止进程</p>
<p>  Ctrl + l 清屏</p>
<p>  reset 重新启动shell</p>
<p>  上下键快速补齐之前的命令</p>
  <p id="filecategory"></p></li>
</ul>
</li>
<li><p>文件目录类</p>
<ul>
<li><p>pwd显示当前绝对路径</p>
</li>
<li><p>绝对路径</p>
<p>  从根目录开始定位到当前目录的整体路径</p>
<p>  ex： 我在中国哪个省哪个市。。。 </p>
</li>
<li><p>相对路径</p>
<p>  从现在的位置去定位目标位置</p>
<p>  ex： 我在北京我要去哪个市 基于北京直接cd这个市</p>
<blockquote>
<p>..&#x2F;返回上一级目录</p>
<p>cd -返回上一次定位的目录</p>
<p>cd直接回到主文件夹</p>
<p>Ex: cd &#x2F;home&#x2F;hello    cd&#x3D;&gt;&#x2F;home</p>
<p>切换用户</p>
<p>su + 用户名</p>
<p>当前根目录随之发生改变</p>
</blockquote>
</li>
<li><p>列举文件</p>
<ul>
<li><p>ls-a </p>
<p>  显示当前目录下所有文件包括隐藏文件</p>
</li>
<li><p>ls -l &#x2F; ll</p>
<p>  显示当前目录可视化文件的全部信息 包括权限创建时间文件名等等</p>
</li>
<li><p>上两者可以合并 ls -al</p>
</li>
</ul>
</li>
<li><p>创建目录</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir + 文件名 //在相对路径下创建一个或多个文件</span><br><span class="line">ex: mkdir a  mkdir /a   mkdir a a/b a/b/c </span><br></pre></td></tr></table></figure>
</li>
<li><p>删除空文件</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rmdir + 文件名 </span><br><span class="line">注意: 如果删除的文件下面还有文件则删除失败</span><br><span class="line">如果想要删除一个嵌套文件夹</span><br><span class="line">rmdir -p a/b/c  删除c若发现b目录文件夹下为空则再删除b</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个空的文件夹</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">touch + 文件夹名</span><br><span class="line">touch + 具体路径/文件夹名</span><br></pre></td></tr></table></figure>
</li>
<li><p>复制文件到指定路径下</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp 当前目录下的文件名 目标路径</span><br><span class="line">如果后面填写的是一个文件会对其进行覆盖</span><br><span class="line">或者虽然是目标路径但是里面已经有你想cp的文件也会出现覆盖选项</span><br><span class="line">如果想要直接对其进行覆盖在cp前加上\</span><br></pre></td></tr></table></figure>
</li>
<li><p>复制目录到指定路径下</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp -r 目录 复制到的目标路径 //-r递归复制目录下的所有文件</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除文件</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm本质上操作相当于是rm -i 交互式</span><br><span class="line">rm + 文件名</span><br><span class="line">强制删除</span><br><span class="line">rm -f + 文件名</span><br><span class="line">删除目录</span><br><span class="line">rm -r + 目录名</span><br><span class="line">直接删除目录且没有提示</span><br><span class="line">rm -rf + 目录名</span><br><span class="line">删除当前目录及以下的所有文件（小心使用）</span><br><span class="line">rm -rf /</span><br><span class="line">删除当前目录下的所有文件</span><br><span class="line">rm -f ./*</span><br></pre></td></tr></table></figure>
</li>
<li><p>移动文件</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mv 当前文件 目标路径</span><br><span class="line">mv 当前文件 目标路径/重命名</span><br><span class="line">如果处于root文件夹下</span><br><span class="line">mv 文件名 重命名后的名 可以直接实现重命名</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看文件内容</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat 文件名</span><br><span class="line">cat -n 文件名 //显示每一行的行号</span><br><span class="line">more 文件名 //全屏查看 空格下一篇 enter下一行 b上一行 :f显示当前行数 q直接退出</span><br><span class="line">less 文件名 //比more更强大的查看方式</span><br></pre></td></tr></table></figure>

</li>
<li><p>输出重定向</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo + 想要输出的内容</span><br><span class="line">想要显示多空格</span><br><span class="line">echo + &quot;想要输出的内容&quot;</span><br><span class="line">支持转义</span><br><span class="line">echo -e &quot;想要输出的内容&quot;</span><br><span class="line">通过echo写入将内容写入到文件中</span><br><span class="line">ll &gt; info //将ll里的内容写入到info下</span><br><span class="line">ls &gt; info //由于info里面有内容所以将ls里的内容覆盖info</span><br><span class="line">如果想要追加内容</span><br><span class="line">echo &quot;hello world&quot; &gt;&gt; info</span><br><span class="line">查看环境变量</span><br><span class="line">echo $环境变量名</span><br><span class="line">环境变量概念: 当前目录下通过环境变量调用指定命令可以直接输出结果</span><br></pre></td></tr></table></figure>
</li>
<li><p>head显示头部内容</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">head 文件名 //显示文件的前十行</span><br><span class="line">head -n 显示的行数 文件名 显示文件的前n行</span><br></pre></td></tr></table></figure>
</li>
<li><p>tail显示尾部内容</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tail 文件名 //显示文件的前后十行</span><br><span class="line">tail -n 显示的行数 文件名 显示文件的后n行</span><br><span class="line">tail -f 文件名 //对该文件内容进行监测 ctrl+暂停监控</span><br><span class="line">监控是通过每一个文件的索引号来实现的</span><br><span class="line">ls -i 文件名 查看该文件的索引号</span><br><span class="line">vim 对文件操作实质上索引号发生了改变</span><br></pre></td></tr></table></figure>

</li>
<li><p>软链接</p>
<ul>
<li><p>概念: 和桌面快捷方式一致，点击会去连接到某一路径下的某个程序，&#x2F;bin &#x3D;&gt;&#x2F;usr&#x2F;bin</p>
</li>
<li><p>创建或删除软链接</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ln -s /想链接的文件或者是路径 软链接名称或者某个路径下软链接名称</span><br><span class="line">vim软链接，之前文件的内容也会发生改变</span><br><span class="line">如果在软链接下想要看到物理路径</span><br><span class="line">pwd -P</span><br><span class="line">删除软链接</span><br><span class="line">rm + 软链接名称 不会删除原文件</span><br><span class="line">删除原文件夹下的所有文件</span><br><span class="line">rm -rf 软链接名 + /</span><br><span class="line">如果把原文件删除 那么软链接将不复存在</span><br></pre></td></tr></table></figure>
</li>
<li><p>硬链接</p>
<blockquote>
<p>原文件和其他链接去连接innode元信息，元信息再去内存中进行查找，就算原文件删除了还是能通过别的链接获取内存数据</p>
</blockquote>
</li>
</ul>
</li>
<li><p>历史记录</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">history 查看所有输入过的历史记录</span><br><span class="line">history + 数字 显示刚刚输入的n条命令</span><br><span class="line">!行数 显示在这一行所输入的命令</span><br><span class="line">history -c 清空历史记录</span><br></pre></td></tr></table></figure></li>
</ul>
  <p id="date"></p> 
</li>
<li><p>时间日期类</p>
<ul>
<li><p>date</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">date 显示所有时间信息</span><br><span class="line">date +%Y //显示当前年份</span><br><span class="line">date +%y //显示当前年份后两位</span><br><span class="line">date +%m //显示当前月份</span><br><span class="line">date +%d //显示当前天数</span><br><span class="line">date +%s //显示时间戳</span><br><span class="line">date -d &quot;1 days ago&quot; //显示明天这个时间</span><br><span class="line">date -s &quot;系统时间&quot; //设置系统时间</span><br><span class="line">npdate可以同步国家系统时间</span><br></pre></td></tr></table></figure>
</li>
<li><p>cal</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cal 查看日历</span><br><span class="line">cal -数字 查看临近的几个月</span><br><span class="line">cal -m 将周一放到第一天</span><br><span class="line">cal 年份 查看当年的全部信息</span><br></pre></td></tr></table></figure>

  <p id="usermanage"></p></li>
</ul>
</li>
<li><p>用户管理类</p>
<ul>
<li><p>添加用户</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">默认情况下有两个用户 root管理员用户 普通用户存放于/home下</span><br><span class="line">添加用户</span><br><span class="line">useradd 用户名</span><br><span class="line">更改home下用户名的主文件夹名 用户名还是david</span><br><span class="line">useradd -d /home/dava david</span><br><span class="line">添加用户的同时添加组</span><br><span class="line">useradd -g 已有的组名 用户名</span><br><span class="line">为用户设置密码</span><br><span class="line">passwd 用户名</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询用户</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">查询用户是否存在</span><br><span class="line">id 用户名 uid用户id gid组id</span><br><span class="line">想要查看所有用户</span><br><span class="line">cat /etc/passwd</span><br></pre></td></tr></table></figure>
</li>
<li><p>切换用户</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">su 用户名</span><br><span class="line">exit退出到上一级用户</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看自己是哪一用户</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">who am i //返回结果为根用户</span><br><span class="line">whoani //返回当前用户</span><br></pre></td></tr></table></figure>
</li>
<li><p>sudo临时赋予最高管理员权限</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">想要使用sudo命令需要添加至sudoers</span><br><span class="line">su root 1/</span><br><span class="line">vim /etc/sudoers</span><br><span class="line">Y到最后 复制root添加权限那行</span><br><span class="line">粘贴修改用户名为你创建的普通用户</span><br><span class="line">:wq!强制保存</span><br><span class="line">现在你就在你添加的用户里可以使用sudo</span><br><span class="line">sudo + 想要执行的命令</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除用户</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">userdel + 用户名 //用户删除但是文件夹残留</span><br><span class="line">userdel -r 用户名 //用户和用户文件夹全部删除</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看组别信息</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /etc/group</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建组</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">groupadd 组名</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改用户所处的组</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">usermod -g 组名 用户 //将用户添加到这组</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改组名</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">groupmod -n 新的组名 旧的组名</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除组</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">groupdel 组名</span><br></pre></td></tr></table></figure>
</li>
<li><p>wheel组</p>
<blockquote>
<p>wheel组属于管理组 可以使用sudo命令</p>
</blockquote>
</li>
<li><p>文件属性和权限</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ls -l 或者ll 一个文件的属性</span><br><span class="line">查看属性显示的内容依次是</span><br><span class="line">文件类型-属主权限-属组权限-其他权限 number</span><br><span class="line">属主权限(u)： root权限 </span><br><span class="line">属组权限(g)： 当前组下的权限 </span><br><span class="line">其他权限(o)： 别人访问时候的权限</span><br><span class="line">a: 代表所有权限</span><br><span class="line">number: 代表硬链接的数量至少要一个</span><br><span class="line">mkdir创建出来的目录至少有两个硬链接一个是本身还有一个是父目录</span><br></pre></td></tr></table></figure>

<p>  作用到文件</p>
<ul>
<li>r可以对文件进行读取</li>
<li>w可以对文件进行修改</li>
<li>x可以cd该文件</li>
</ul>
<p>  作用到目录</p>
<ul>
<li>r可以读取查看文件内容</li>
<li>w可以对文件进行增删改查的目的</li>
<li>x可cd到该目录</li>
</ul>
</li>
<li><p>更改用户权限</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod (u/g/o/a)(=+-)(r/w/x) 文件名</span><br><span class="line">分别添加权限</span><br></pre></td></tr></table></figure>

<p>  <strong>技巧</strong></p>
<p>  x: 1 w:2 wx: 3 r: 4 rx:5 rw:6 rwx:7</p>
<p>  相当于是二进制 111 &#x3D;&gt; 7 rwx</p>
<p>  Chmod 777 指定文件 开启全部权限</p>
<p>  一般设置文件都设置为644 rx-r–r–</p>
<blockquote>
<p>chmod -R 777 文件 将当前目录下的所有文件都设置为777</p>
</blockquote>
</li>
<li><p>更改所属主和所属组</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">更改所属主</span><br><span class="line">chown 想要修改的用户 文件名/目录</span><br><span class="line">+R 遍历目录下所有文件</span><br></pre></td></tr></table></figure>

  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">更爱所属组</span><br><span class="line">chgrp 想要修改的组别 文件</span><br></pre></td></tr></table></figure>
</li>
<li><p>团队合作流程</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">创建一个组两个人同时链接这个组</span><br><span class="line">通过权限的开与关从而实现数据交互性</span><br><span class="line">如果要给外人传递数据开放其他权限即可</span><br></pre></td></tr></table></figure>

  <p id="search"></p></li>
</ul>
</li>
<li><p>搜索查找类</p>
<ul>
<li><p>find查找(从硬盘上去查找)</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">find -name 文件名 //查找当前目录及下的所有文件</span><br><span class="line">find 路径 -name 文件名 //查找该路径下的所有文件</span><br><span class="line">find -name &quot;*.cfg&quot; //查找其下的所有带有cfg的文件</span><br><span class="line">find /home -user 用户名 //查找所有与该用户相关的文件</span><br><span class="line">ls -lh 查看文件时文件大小显示的更加详细</span><br><span class="line">find /root -size +2M //查看当前目录下大小超过2M的文件</span><br></pre></td></tr></table></figure>
</li>
<li><p>locate查找(快速从数据库内进行查找)</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">实时更新</span><br><span class="line">updatedb</span><br><span class="line">查找</span><br><span class="line">locate 关键字</span><br><span class="line">查找命令真实路径</span><br><span class="line">which + 命令名</span><br><span class="line">where + 命令 相比于which更加详细</span><br></pre></td></tr></table></figure>
</li>
<li><p>grep查找</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">grep -n 关键字 文件名     -n显示行号</span><br><span class="line">灵活运用|来进行筛选</span><br><span class="line">ls | grep .cfg //将ls返回的结果作为后面语句的参数</span><br><span class="line">wc可以用来得到一个文件的详细信息</span><br><span class="line">wc 文件 得到的结果分别是总行数 总单词数 总字节数</span><br></pre></td></tr></table></figure>

  <p id="gzip"></p></li>
</ul>
</li>
<li><p>解压缩类</p>
<ul>
<li><p>gzip</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">gzip 文件 压缩</span><br><span class="line">gunzip 文件 解压</span><br><span class="line">特点</span><br><span class="line">可以同时解压多个文件但是都是单独生成的</span><br><span class="line">不会保留原来的文件</span><br><span class="line">不能压缩目录</span><br></pre></td></tr></table></figure>
</li>
<li><p>zip</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">zip -r total.zip 要压缩的文件或者是目录</span><br><span class="line">unzip -d 指定路径 解压的文件</span><br></pre></td></tr></table></figure>
</li>
<li><p>tar</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-c 产生.tar文件</span><br><span class="line">-z 打包并压缩</span><br><span class="line">-v 显示详细信息</span><br><span class="line">-f 指定压缩后的文件名</span><br><span class="line">-x 解包</span><br><span class="line">-C 解包指定目录</span><br><span class="line">打包</span><br><span class="line">tar -zcvf 文件名.tar.gz 打包的文件可以是多个</span><br><span class="line">解包</span><br><span class="line">tar -zxvf 文件名 -C 解包路径</span><br></pre></td></tr></table></figure>

  <p id="diskdetect"></p></li>
</ul>
</li>
<li><p>磁盘查看和分区类</p>
<ul>
<li><p>查看磁盘占用情况</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">du 目录/文件</span><br><span class="line">-a 查看子目录大小和文件大小</span><br><span class="line">-h 将大小转化为KB MB</span><br><span class="line">-c = -ah</span><br><span class="line">-s 只显示总量</span><br><span class="line">--max-depth = n //n代表文件的深度</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看磁盘空间的占用情况</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">df -h</span><br><span class="line">硬盘分类默认分为3个区 swap/boot/根目录</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看内存占用情况</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">free -h</span><br><span class="line">Mem: 物理内存</span><br><span class="line">Swap: 虚拟内存</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看设备挂载情况</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">lsblk</span><br><span class="line">硬盘分类</span><br><span class="line">IDE 老式硬盘 =&gt; hda</span><br><span class="line">SATA 容量大 成本低</span><br><span class="line">SCSI 拓展性广 传输速度快</span><br><span class="line">sata和scsi对应的都是sda</span><br><span class="line">显示文件系统信息</span><br><span class="line">lsblk -f</span><br></pre></td></tr></table></figure>
</li>
<li><p>挂载卸载</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">挂载</span><br><span class="line">mount /dev/cdrom /mnt/cdrom //将dev下的光盘挂载到mnt下</span><br><span class="line">卸载</span><br><span class="line">umount /dev/cdrom  同时也卸载了mnt/cdrom里的内容</span><br><span class="line">开机自启动</span><br><span class="line">vim /etc/fstab //进入到挂载区域</span><br><span class="line">在新的一行填写</span><br><span class="line">想要挂载谁 挂载到谁身上 文件系统类型(默认iso9660) defaults 0 0</span><br></pre></td></tr></table></figure>
</li>
<li><p>fdisk分区</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">查看分区信息</span><br><span class="line">fdisk -l</span><br><span class="line">对磁盘进行管理</span><br><span class="line">fdisk 磁盘目录(可以通过fdisk -l来查看)</span><br><span class="line">m进入 n划分新磁盘 p查看磁盘分区 w保存磁盘设置并退出</span><br><span class="line">初始化新磁盘信息</span><br><span class="line">mkfs -t xfs 磁盘的那一块分区</span><br><span class="line">将磁盘进行挂载</span><br><span class="line">mount /dev/sda1 /home/用户</span><br><span class="line">//卸载</span><br><span class="line">umount /home/用户</span><br><span class="line">df -h没有新磁盘的数据</span><br><span class="line">lsblk -f还保留着</span><br></pre></td></tr></table></figure>

  <p id="process"></p></li>
</ul>
</li>
<li><p>进程管理类</p>
<ul>
<li><p>ps</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ps //列出当前用户进程状态</span><br><span class="line">-e 列出所有进程</span><br><span class="line">-u 列出某个用户所有进程</span><br><span class="line">-f 显示完整格式的进程列表</span><br><span class="line">ps aux 查看所有用户的所有进程</span><br><span class="line">VSZ：虚拟内存 长时间未使用的命令就会放到其中</span><br><span class="line">RSS：物理内存 经常使用的</span><br><span class="line">TTY：代表哪一个终端 tty1图形化终端 tty2-6黑屏 pts/ 虚拟终端</span><br><span class="line">STAT：S睡眠 T暂停 Z僵尸 s子进程 l多线程 +前台显示</span><br><span class="line">ps -ef 显示标准用户进程</span><br><span class="line">PIDD 副进程需要父进程先启动才能启动该进程</span><br><span class="line">ps aux 用来查看资源占用率</span><br><span class="line">ps -ef 用来查看父子进程关系</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看远程登录进程</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ps -ef | grep sshd</span><br><span class="line">/usr/sbin/sshd -D是sshd远程登录的父进程</span><br><span class="line">grep --color=auto sshd所运行的进程的父进程是bash的主进程</span><br></pre></td></tr></table></figure>
</li>
<li><p>终止进程</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kill + PID/PPID</span><br><span class="line">如果终止的是守护进程 那么远程服务器就链接不到了 但是不影响已经登录上来的进程，需要在已登陆的进程上开启sshd服务</span><br><span class="line">systemctl start sshd</span><br><span class="line">如果想要kill 正在运行的bash终端 需要强制删除</span><br><span class="line">kill -9 PID</span><br><span class="line">删除所有与关键字有关的服务</span><br><span class="line">killall 关键字</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看进程树</p>
<p>  安装</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install psmisc #using psmisc package for pstree</span><br></pre></td></tr></table></figure>

<p>  使用</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pstree //查看进程树</span><br><span class="line">pstree -p //带有PID</span><br><span class="line">pstree -u //带有用户信息</span><br></pre></td></tr></table></figure>
</li>
<li><p>top实时监视系统状态</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">top -d 秒数 几秒刷新一次</span><br><span class="line">top -i 不显示闲置或者是僵死转台的数据</span><br><span class="line">top -p PID 监视单个进程</span><br><span class="line">u 指定监视的用户</span><br><span class="line">k 指定杀死用户</span><br></pre></td></tr></table></figure>
</li>
<li><p>netstat显示网络状态和端口占用信息</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">套接字: iP + 端口</span><br><span class="line">netstat -anp 查看网络状态</span><br><span class="line">netstat -alp 查看端口状态</span><br></pre></td></tr></table></figure>
</li>
<li><p>crontab定时任务管理</p>
<ul>
<li><p>前提: 需要将crond 打开</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl start crond</span><br></pre></td></tr></table></figure>
</li>
<li><p>操作</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-l 查看定时任务</span><br><span class="line">-e 编辑定时任务</span><br><span class="line">-r 删除定时任务</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数说明</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* * * * * + 命令</span><br><span class="line">第一个：一小时的哪一分钟</span><br><span class="line">第二个：一天的哪一个小时</span><br><span class="line">第三个：哪一天</span><br><span class="line">第四个：哪一个月</span><br><span class="line">第五个：星期几</span><br><span class="line">tail -f 文件名 //用来监视后添加的文本</span><br></pre></td></tr></table></figure>

  <p id="software"></p></li>
</ul>
</li>
</ul>
</li>
<li><p>软件包管理</p>
<ul>
<li><p>RPM概念</p>
<blockquote>
<p>RedHat软件包管理工具，</p>
</blockquote>
</li>
<li><p>查询安装过的RPM包</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rpm -qa</span><br><span class="line">rpm -qi 软件名 //查看安装软件的详细信息</span><br></pre></td></tr></table></figure>
</li>
<li><p>卸载软件</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rpm -e RPM包</span><br><span class="line">rpm -e --nodeps 软件包 //不检查依赖直接卸载</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装软件</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rpm -i RPM包全名 需要到cdrom package里去查找 可能会由于没有依赖而安装失败</span><br></pre></td></tr></table></figure>
</li>
<li><p>yum</p>
<ul>
<li><p>语法说明</p>
<blockquote>
<p>yum [需要进行的操作] 软件包名称</p>
</blockquote>
</li>
<li><p>删除rpm包</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum remove rpm包</span><br><span class="line">yum install rpm包</span><br><span class="line">yum list rpm包 //查看安装完的所有包</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改镜像源</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">文件目录为/etc/yum.repos.d/CentOS-Base.repo</span><br><span class="line">步骤一 </span><br><span class="line">yum install weget</span><br><span class="line">步骤二</span><br><span class="line">wget aliyun/网易国内Centos.repo文件</span><br><span class="line">步骤三</span><br><span class="line">替换: cp 下载下来的文件 原来centos文件备份</span><br></pre></td></tr></table></figure>

  <p id="clone"></p></li>
</ul>
</li>
</ul>
</li>
<li><p>克隆虚拟机</p>
<ul>
<li><p>到达虚拟机资源库右键克隆完整虚拟机</p>
</li>
<li><p>vim 到ens160下修改ip地址</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">注意 此ip和之前在本机host文件配置某一ip一致</span><br><span class="line">下面设置主机名需要与该ip进行匹配</span><br></pre></td></tr></table></figure>
</li>
<li><p>NetworkManager是网络通信的关键所以可以暂停network服务</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl stop network</span><br><span class="line">systemctl restart NetworkManager</span><br><span class="line">ping 本机</span><br><span class="line">ping 外网</span><br><span class="line">ping通开始下一步</span><br></pre></td></tr></table></figure>
</li>
<li><p>更改主机名</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hostnamectl set-hostname 需要修改的名</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Shell拓展"><a href="#Shell拓展" class="headerlink" title="Shell拓展"></a>Shell拓展</h3><p id="shell"></p> 

<ul>
<li><p>Shell巩固(命令解释器)</p>
<blockquote>
<p>Shell最初的版本是Unix的BourneShell</p>
<p>最底层是硬件，操作系统内核来操作硬件，用户处于应用层，由于内核不能理解用户的各项操作，所以衍生出Shell来为用户的操作做出解释</p>
</blockquote>
<p>  查看Linux提供的命令解释器</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /etc/shells</span><br></pre></td></tr></table></figure>

<p>  查看现在应用的shell</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo $SHELL</span><br></pre></td></tr></table></figure>

  <p id="scripts"></p> 
</li>
<li><p>Shell脚本</p>
<ul>
<li><p>Shell脚本</p>
<ul>
<li><p>脚本格式</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个脚本</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir scripts</span><br><span class="line">cd scripts</span><br><span class="line">touch hello.sh</span><br><span class="line">vim hello.sh</span><br><span class="line">添加如下内容</span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;hello world&quot;</span><br><span class="line">通过bash或者是sh来执行脚本</span><br><span class="line">bash/sh hello.sh</span><br><span class="line">通过路径直接来执行脚本(前提：需要开放执行权限 chmod u+x 文件)</span><br><span class="line">通过source来执行脚本 来源于cshell</span><br><span class="line">source hello.sh</span><br><span class="line">通过. 命令执行 .本质上是bashshell</span><br><span class="line">bash,sh,路径都是在bash内部创建子shell来执行脚本</span><br><span class="line">source, . 不需要bash嵌套直接生效</span><br></pre></td></tr></table></figure>
</li>
<li><p>变量</p>
<ul>
<li><p>系统环境变量($HOME,$SHELL…)</p>
<ul>
<li><p>查看所有全局变量</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">env / printenv</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看某个全局变量</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo $变量名</span><br><span class="line">printenv 全局变量名</span><br></pre></td></tr></table></figure>
</li>
<li><p>判断是否为全局变量</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash创建一个子bash 判断是否可以查看外部变量</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看所有变量</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set</span><br></pre></td></tr></table></figure>
</li>
<li><p>输入执行自定义脚本</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo $PATH</span><br><span class="line">将脚本放到如下路径下即可执行</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>自定义变量</p>
<ul>
<li><p>基本使用</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">定义一个a变量</span><br><span class="line">a=1</span><br><span class="line">打印该变量</span><br><span class="line">echo $a</span><br></pre></td></tr></table></figure>
</li>
<li><p>将创建出来的局部变量提升为全局</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">由于我们在子shell里面拿不到自定义变量所以来到shell</span><br><span class="line">export 自己定义的变量</span><br></pre></td></tr></table></figure>
</li>
<li><p>注意事项</p>
<ul>
<li>在子shell里面讲变量进行修改返回父shell是监测不到的,但是反过来是行的</li>
<li>echo定义的变量是类型是字符串如果想要添加计算属性$[] &#x2F; $(())</li>
<li>定义变量的时候不能包含空格</li>
<li>定义变量名不能以数字开头</li>
</ul>
</li>
<li><p>创建只读变量</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">readonly a=2</span><br></pre></td></tr></table></figure>
</li>
<li><p>撤销变量</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">unset 变量名</span><br><span class="line">//只读变量不能撤销</span><br></pre></td></tr></table></figure>
</li>
<li><p>特殊变量</p>
<ul>
<li><p>语法</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo $0 //代表脚本的名称</span><br><span class="line">echo $1-9 //代表脚本传入的参数</span><br><span class="line">echo &#123;10&#125; //当传入参数大于10个需要使用花括号</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo $1 //代表输入的第一个参数</span><br><span class="line">echo $# //统计输入参数的个数</span><br><span class="line">echo $* //查看参数</span><br><span class="line">echo $@ //将参数以数组的形式进行包装</span><br><span class="line">echo $? //返回最后一次命令的状态 0代表正常</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>运算符</p>
<ul>
<li><p>语法结构</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">expr 参数一 参数二 参数三</span><br><span class="line">echo $[1+2] </span><br></pre></td></tr></table></figure>
</li>
<li><p>赋值操作</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a=$(expr 2 + 4)</span><br><span class="line">a=$((1+3)) / a=$[1+2]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>条件判断</p>
<ul>
<li><p>基本条件判断</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">test $a = hello // [ $a = hello ]</span><br><span class="line">echo $?</span><br><span class="line">如果[]中间没有空格 那么返回结果永远都是0，如果里面有空格且为空值，返回结果为1</span><br></pre></td></tr></table></figure>
</li>
<li><p>大小判断</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-lt 小于</span><br><span class="line">-gt 大于</span><br><span class="line">-eq 等于</span><br><span class="line">-ne 不等于</span><br><span class="line">-le 小于等于</span><br><span class="line">-ge 大于等于</span><br></pre></td></tr></table></figure>
</li>
<li><p>判断权限</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[ -r/w/x 文件名]</span><br><span class="line">echo $? </span><br></pre></td></tr></table></figure>
</li>
<li><p>判断文件类型</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[ -e /home/satrol/info ] //判断文件是否存在</span><br><span class="line">[ -f 文件 ] //判断是否是一个文件 </span><br><span class="line">[ -d 文件 ] //判断是否是一个目录</span><br></pre></td></tr></table></figure>
</li>
<li><p>逻辑运算符</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">与三目操作符相似 </span><br><span class="line">[ hello ] &amp;&amp; echo OK || echo Error</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>if条件分支语句</p>
<ul>
<li><p>单分支</p>
<ul>
<li><p>语法</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if [ 条件判断语句 ]; then echo &quot;正确返回的结果&quot;; fi</span><br></pre></td></tr></table></figure>
</li>
<li><p>结合逻辑判断</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if [ $a -lt 20 ] &amp;&amp; [ $a -gt 17 ]; then echo &quot;congratulation&quot;; fi</span><br><span class="line">如果想要将两个数组合并</span><br><span class="line">if [ $a -lt 20 -a $a -gt 17 ]; then echo &quot;congratulation&quot;; fi</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>双分支</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if [ $2 -lt 18 ];</span><br><span class="line">then echo &quot;未成年&quot;;</span><br><span class="line">else echo &quot;成年&quot;;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
</li>
<li><p>多分支</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if [ $3 -lt 18 ];</span><br><span class="line">then echo &quot;未成年&quot;;</span><br><span class="line">elif [ $3 -lt 40 ];</span><br><span class="line">then echo &quot;中年人&quot;;</span><br><span class="line">else echo &quot;老年人&quot;;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>case分支语句</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">case $1 in </span><br><span class="line">1)</span><br><span class="line">	echo &quot;first&quot;</span><br><span class="line">;;</span><br><span class="line">2)</span><br><span class="line">	echo &quot;second&quot;</span><br><span class="line">;;</span><br><span class="line">3)</span><br><span class="line">	echo &quot;thrid&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">	echo &quot;other&quot;</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

</li>
<li><p>for循环</p>
<ul>
<li><p>第一种写法</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//在双小括号里面可以书写运算符号</span><br><span class="line">for(( i=1; i&lt;=$1; i++ ))</span><br><span class="line">do</span><br><span class="line">	sum=$[$sum+$i];</span><br><span class="line">done</span><br><span class="line">	echo $sum;</span><br></pre></td></tr></table></figure>
</li>
<li><p>第二种写法</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for os in Linux windows macos;do echo $os;done</span><br><span class="line">//两种写法结合</span><br><span class="line">for i in &#123;1..100&#125;; do sum=$[$sum+$i]; done; echo $sum</span><br></pre></td></tr></table></figure>
</li>
<li><p>$@ 和$*区别</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &#x27;========$*======&#x27;</span><br><span class="line">for param in &quot;$*&quot;</span><br><span class="line">do</span><br><span class="line">        echo $param</span><br><span class="line">done</span><br><span class="line">//返回结果一行显示</span><br><span class="line">echo &#x27;=======$@=======&#x27;</span><br><span class="line">for parm in &quot;$@&quot;</span><br><span class="line">do</span><br><span class="line">        echo $parm</span><br><span class="line">done</span><br><span class="line">//显示结果多行显示</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>while循环</p>
<ul>
<li><p>示范</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a=1</span><br><span class="line">while (($a&lt;=$1))</span><br><span class="line">do</span><br><span class="line">        # sum2=$[$sum2+$a];</span><br><span class="line">        # a=$[$a+1]</span><br><span class="line">        let sum2+=a</span><br><span class="line">        let a++</span><br><span class="line">done</span><br><span class="line">        echo $sum2</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
  <p id="console"></p> 
</li>
<li><p>读取控制台输入</p>
<ul>
<li><p>选项</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-t 代表延迟时间</span><br><span class="line">-p 代表提示信息</span><br></pre></td></tr></table></figure>
</li>
<li><p>代码演示</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">read -t 10 -p &quot;你的姓名是&quot;name</span><br><span class="line">echo &quot;Hello,$name&quot;</span><br></pre></td></tr></table></figure></li>
</ul>
  <p id="function"></p> 
</li>
<li><p>函数</p>
<ul>
<li><p>系统函数</p>
<ul>
<li><p>$()命令替换</p>
<blockquote>
<p>对于系统函数的调用</p>
</blockquote>
</li>
<li><p>basename</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">basename + 路径 //返回结果为路径最后一位</span><br><span class="line">basename + 路径 + 后缀 //可以切除后缀</span><br></pre></td></tr></table></figure>
</li>
<li><p>dirname</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">dirname + 绝对路径 //截取到的是除最后一位其余的路径</span><br><span class="line">将相对路径转化为相对路径</span><br><span class="line">echo &quot;script path&quot;:$(cd $(dirname $0);pwd)</span><br></pre></td></tr></table></figure>

</li>
<li><p>自定义函数</p>
<ul>
<li><p>简单的加法运算</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function add()&#123;</span><br><span class="line">        s=$[ $1+$2 ]</span><br><span class="line">        echo &quot;和为:&quot;$s</span><br><span class="line">        return $s //return</span><br><span class="line">      	return返回的结果必须是数字</span><br><span class="line">&#125;</span><br><span class="line">read -p &quot;第一个参数为:&quot; a</span><br><span class="line">read -p &quot;第一个参数为:&quot; b</span><br><span class="line"></span><br><span class="line">add $a $b</span><br><span class="line">echo &quot;和: $?&quot;</span><br><span class="line">return返回的值是在0-255范围内的</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值且结果不受限函数</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function add()&#123;</span><br><span class="line">        s=$[ $1+$2 ]</span><br><span class="line">        echo $s</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">read -p &quot;第一个参数为:&quot; a</span><br><span class="line">read -p &quot;第一个参数为:&quot; b</span><br><span class="line"></span><br><span class="line">sum=$(add $a $b)</span><br><span class="line">echo &quot;合为: $sum&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>归档文件</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tar -c代表归档</span><br><span class="line">tar -z代表压缩</span><br><span class="line">//归档参数必须只能为1个</span><br><span class="line">if [ $# -ne 1 ];</span><br><span class="line">then</span><br><span class="line">        echo &quot;输入的参数个数不正确&quot;;</span><br><span class="line">        exit</span><br><span class="line">fi</span><br><span class="line">//第一个参数必须为目录</span><br><span class="line">if [ -d $1 ];</span><br><span class="line">then</span><br><span class="line">        echo;</span><br><span class="line">else</span><br><span class="line">        echo;</span><br><span class="line">        echo &quot;输入的不是目录&quot;</span><br><span class="line">        echo;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">DIR_NAME=$(basename $1);</span><br><span class="line">DIR_PATH=$(cd $(dirname $1); pwd);</span><br><span class="line"></span><br><span class="line">DATE=$(date +%y%m%d);</span><br><span class="line"></span><br><span class="line">FILE=archieve_&#123;$DIR_NAME&#125;_&#123;$DATE&#125;.tar.gz;</span><br><span class="line">DEST=/root/archieve/$FILE</span><br><span class="line"># 开始归档</span><br><span class="line">echo &quot;开始归档.....&quot;</span><br><span class="line"></span><br><span class="line">tar -czf $DEST $DIR_PATH/$DIR_NAME</span><br><span class="line">if [ $? -eq 0 ];</span><br><span class="line">then</span><br><span class="line">        echo</span><br><span class="line">        echo &quot;归档成功&quot;</span><br><span class="line">        echo &quot;归档成功的文件为$DEST&quot;</span><br><span class="line">else</span><br><span class="line">        echo &quot;归档失败&quot;</span><br><span class="line">fi</span><br><span class="line">exit</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
  <p id="Regular-expression"></p> 
</li>
<li><p>正则表达式</p>
<ul>
<li><p>特殊字符</p>
<ul>
<li><p>^ 以谁开头</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">^a //以a开头</span><br></pre></td></tr></table></figure>
</li>
<li><p>$ 以谁为尾</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash$ //以bash结尾</span><br></pre></td></tr></table></figure>
</li>
<li><p>^$代表空行</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat 文件 | grep -n ^$ //查看空行位置</span><br></pre></td></tr></table></figure>
</li>
<li><p>通配符</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">r..t //可以匹配到rt中间两位的数字</span><br><span class="line">r*t //可以匹配到rt中间无数个重复的字母</span><br><span class="line">.* //任意字符都可以进行匹配</span><br></pre></td></tr></table></figure>
</li>
<li><p>字符区间</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[a-z]: 匹配a-z内的单个字符</span><br><span class="line">[a-z]*: 匹配任意长度a-z内的任意字符</span><br></pre></td></tr></table></figure>
</li>
<li><p>字符转意</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat archieve_test.sh | grep $ //由于$匹配的是结尾所以不转意会全部输出</span><br><span class="line">cat archieve_test.sh | grep &#x27;\$&#x27; //输出带有$</span><br></pre></td></tr></table></figure>
</li>
<li><p>手机号正则匹配</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &quot;12256483942&quot; | grep -E ^1[3-8][1-9]&#123;9&#125;$</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
  <p id="texthandle"></p> 
</li>
<li><p>文本处理工具</p>
<ul>
<li><p>选项参数说明</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-d 按照指定分隔符分割列 </span><br><span class="line">-f 提取第几列 截取多列逗号分隔</span><br></pre></td></tr></table></figure>
</li>
<li><p>代码展示</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cut -d &quot;分隔符&quot; -f 第几列 文件名</span><br><span class="line">提取列数可以简写</span><br><span class="line">提取1-4列</span><br><span class="line">cat /etc/passwd | grep bash$ | cut -d &quot;分隔符&quot; -f 1-4 </span><br><span class="line">提取4列后</span><br><span class="line">4-</span><br><span class="line">提取4列前</span><br><span class="line">-4</span><br></pre></td></tr></table></figure>
</li>
<li><p>切割ip地址</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ifconfig ens160 | grep netmask | cut -d &quot; &quot; -f 10 </span><br></pre></td></tr></table></figure>
</li>
<li><p>awk</p>
<ul>
<li><p>选项参数</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-F 分隔符 默认情况下为空格</span><br><span class="line">-v 赋值用户定义的变量</span><br></pre></td></tr></table></figure>
</li>
<li><p>代码</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">使用grep + cut进行筛选</span><br><span class="line">cat /etc/passwd | grep ^root | cut -d &quot;:&quot; -f 7</span><br><span class="line">使用awk进行筛选</span><br><span class="line">cat /etc/passwd | awk -F &quot;:&quot; &#x27;/^root/ &#123;print $7&#125;&#x27;</span><br><span class="line">使用逗号进行分割 由于筛选列数是代码块可以使用逗号进行分割</span><br><span class="line">cat /etc/passwd | awk -F &quot;:&quot; &#x27;/^root/ &#123;print $1&quot;,&quot;$7&#125;&#x27;</span><br><span class="line">在筛选结果的最前面和最后面添加一句话</span><br><span class="line">cat /etc/passwd | awk -F &quot;:&quot; &#x27;BEGIN&#123;print &quot;usershell&quot;&#125;&#123;print $7&#125;END&#123;print &quot;end of file&quot;&#125;&#x27;</span><br></pre></td></tr></table></figure>
</li>
<li><p>将passwd用户的id都加上1</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /etc/passwd | awk -F &quot;:&quot; &#x27;&#123;print $3+1&#125;&#x27;</span><br><span class="line">-v定义的值为一个变量可供后面使用</span><br><span class="line">cat /etc/passwd | awk -v i=1 -F &quot;:&quot; &#x27;&#123;print $3+i&#125;&#x27;</span><br></pre></td></tr></table></figure>
</li>
<li><p>awk的内置变量</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">FILENAME: 文件名</span><br><span class="line">NR: 行的个数</span><br><span class="line">NF: 切割后列的个数</span><br><span class="line">代码示范</span><br><span class="line">awk -F &quot;:&quot; &#x27;&#123;print &quot;文件名: &quot; FILENAME &quot; 行数: &quot;NR &quot; 列数: &quot; NF&#125;&#x27; /etc/passwd </span><br><span class="line">awk提取空行</span><br><span class="line">ifconfig | awk &#x27;/^$/ &#123;print NR&#125;&#x27;</span><br><span class="line">awk截取ip地址</span><br><span class="line">ifconfig | awk &#x27;/netmask/ &#123;print $2&#125;&#x27;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
  <p id="review"></p> 
</li>
<li><p>巩固</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">who //查看所有已登陆的用户</span><br><span class="line">mesg //查看是否打开消息功能</span><br><span class="line">who -T //查看用户是否打开消息功能</span><br><span class="line">mesg n //关闭消息功能</span><br><span class="line">mesg y //打开消息功能</span><br><span class="line">write 用户名 终端窗口号 //发送消息</span><br></pre></td></tr></table></figure></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://sloplerol.github.io">Satrol_</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://sloplerol.github.io/2023/05/07/Linux-Journey/">https://sloplerol.github.io/2023/05/07/Linux-Journey/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://sloplerol.github.io" target="_blank">Freedom Coding</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux%E8%BF%90%E7%BB%B4/">Linux运维</a></div><div class="post_share"><div class="social-share" data-image="https://w.wallhaven.cc/full/qz/wallhaven-qz3wel.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2023/05/07/CalculateForJava/" title="CalculateForJava"><img class="cover" src="https://w.wallhaven.cc/full/o5/wallhaven-o51259.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">CalculateForJava</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux"><span class="toc-number">1.</span> <span class="toc-text">Linux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8F%91%E5%B1%95%E5%8F%B2"><span class="toc-number">1.1.</span> <span class="toc-text">操作系统发展史</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.</span> <span class="toc-text">Linux介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.</span> <span class="toc-text">Linux命令基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell%E6%8B%93%E5%B1%95"><span class="toc-number">1.4.</span> <span class="toc-text">Shell拓展</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 By Satrol_</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Welcome to my site !!!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>